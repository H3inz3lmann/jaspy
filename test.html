<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>JsPy Test</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.22/require.min.js"></script>

    <!--<script src="example.js"></script>-->

    <script>
        require([''], function (structures, python) {
            window.structures = structures;

            var l = structures.list();
            l.append('123');
            l.insert(1, 'abc');

            function Test(str) {
                this.str = str;
            }
            Test.prototype = {
                equals: function (other) {
                    return (other instanceof Test) && other.str == this.str;
                },
                hash: function () {
                    return 'abc';
                }
            };

            var dict = new structures.Dict(new structures.Dict({'yolo': 5}));
            dict.put(123, 'abc');
            dict.put('abc', 123);
            dict.put(new Test('test1'), 1);
            dict.put(new Test('test1'), 3);
            dict.put(new Test('test2'), 2);

            var items = dict.items(), item;
            while (item = items.next()) {
                console.log(item);
            }

            var values = dict.values(), value;
            while (value = values.next()) {
                console.log(value);
            }

            var keys = dict.keys(), key;
            while (key = keys.next()) {
                console.log(key);
            }

            console.log(dict.popitem());
        });
    </script>
</head>
<body>

</body>
</html>